<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Volunteer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Add Volunteer</h2>
        
        <form id="volunteerForm">
            <!-- Event Selection -->
            <div class="mb-3">
                <label for="eventSelect" class="form-label">Select Event</label>
                <select class="form-control" id="eventSelect" required>
                    <option value="">Select an Event</option>
                    <!-- Options will be populated dynamically -->
                </select>
            </div>

            <!-- Volunteer Name -->
            <div class="mb-3">
                <label for="volunteerName" class="form-label">Volunteer Name</label>
                <input type="text" class="form-control" id="volunteerName" required>
            </div>

            <!-- Volunteer Contact -->
            <div class="mb-3">
                <label for="volunteerNumber" class="form-label">Volunteer Contact</label>
                <input type="text" class="form-control" id="volunteerNumber" required>
            </div>

            <button type="submit" class="btn btn-primary">Add Volunteer</button>
        </form>

        <button onclick="window.location.href='admin.html'" class="btn btn-warning mt-4">Back to Admin</button>
    </div>

    <script>
        // Function to load events dynamically from localStorage
        function loadEvents() {
            const eventSelect = document.getElementById('eventSelect');
            const events = JSON.parse(localStorage.getItem('events')) || [];
            events.forEach(event => {
                const option = document.createElement('option');
                option.value = event.name;
                option.textContent = event.name;
                eventSelect.appendChild(option);
            });
        }

        // Event listener to add volunteer
        document.getElementById('volunteerForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const eventSelect = document.getElementById('eventSelect').value;
            const volunteerName = document.getElementById('volunteerName').value;
            const volunteerNumber = document.getElementById('volunteerNumber').value;

            const volunteers = JSON.parse(localStorage.getItem('volunteers')) || [];
            volunteers.push({ eventSelect, volunteerName, volunteerNumber });
            localStorage.setItem('volunteers', JSON.stringify(volunteers));

            console.log(`Volunteer Added: ${volunteerName} (${volunteerNumber}) for Event: ${eventSelect}`);
            alert('Volunteer added successfully!');
        });

        // Load events when page loads
        window.onload = loadEvents;
    </script>
</body>
</html>
